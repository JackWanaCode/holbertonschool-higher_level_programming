from Queen import Queen
from Board import Board
from Status import Status
from sys import argv

def run(size):
#    arr = [[0 for x in range(size)] for y in range(size)]
    board = Board(size, [])
    status = Status(size, [[0 for x in range(size)] for y in range(size)])
    queen = Queen(size)
    i = 1
    comb_arr = []
    count = 0
    check_set = 0
    check_back = 1
    while count < 5:
        count += 1
        print("bf set", count, queen.pos_y, queen.pos_x, status.stat_arr)
        check_set = queen.set_queen(status)
        print("af set", count, queen.number, queen.pos_y, queen.pos_x, status.stat_arr)
        if check_set == size:
            print(status.return_comb())
            print("stat_arr bf move", status.stat_arr)
            queen.move_queen(status)
            print("stat_arr af move", status.stat_arr)
        elif check_set > 0:
#            print("stat_arr bf move", status.stat_arr)
            queen.move_queen(status)
#            print("stat_arr af move", status.stat_arr)
        else:
            print("bf back", queen.pos_y, queen.pos_x, status.stat_arr)
            check = status.back_status(queen)
            print("af back", queen.pos_y, queen.pos_x, status.stat_arr)
            check_set = 1
            if check == 0:
                print("no more combination")
                return
            
        print("----------this is end of loop---------")
"""            status.stat_arr.append(arr)
            if len(status.stat_arr) == size + 1:
                print("combine",status.return_comb())
                arr = [sub_arr[:] for sub_arr in status.stat_arr[1]]
                arr = status.stat_arr[1]
                status.stat_arr = status.stat_arr[:2]
                print("here arr", arr)
                arr = board.next_queen(arr, len(status.stat_arr))
                print("here arr", arr)
                if arr == 0:
                    print("no more combine")
                    exit()
                status.stat_arr.pop()
                print(status.stat_arr)
                print(arr)
"""
"""
        elif queen.pos_x == -1:
            if len(status.stat_arr) > 1:
                # print("status bf pop", status.stat_arr)
                status.stat_arr.pop()
                # print("status af pop", status.stat_arr)
                arr = [sub_arr[:] for sub_arr in status.stat_arr[-1]]
        #
                arr = board.next_queen(arr, len(status.stat_arr))
                if len(status.stat_arr) == 2:
                    status.stat_arr.pop()
                # print("checkherer", len(status.stat_arr), arr)
                if len(status.stat_arr) == 1 and arr == 0:
                    print("No more combine", count)
                    return
        #         elif arr == 0:
        #             arr = status.stat_arr[-1]
        # print(status.stat_arr)
        # if len(status.stat_arr) == 2:
        #     print(status.stat_arr)
"""
